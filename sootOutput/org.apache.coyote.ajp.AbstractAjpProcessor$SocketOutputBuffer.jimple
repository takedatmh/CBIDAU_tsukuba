public class org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer extends java.lang.Object implements org.apache.coyote.OutputBuffer
{
    final org.apache.coyote.ajp.AbstractAjpProcessor this$0;

    protected void <init>(org.apache.coyote.ajp.AbstractAjpProcessor)
    {
        org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer r0;
        org.apache.coyote.ajp.AbstractAjpProcessor r1;

        r0 := @this: org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer;
        r1 := @parameter0: org.apache.coyote.ajp.AbstractAjpProcessor;
        r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0> = r1;
        specialinvoke r0.<java.lang.Object: void <init>()>();
        return;
    }

    public int doWrite(org.apache.tomcat.util.buf.ByteChunk, org.apache.coyote.Response) throws java.io.IOException
    {
        org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer r0;
        org.apache.tomcat.util.buf.ByteChunk r1;
        org.apache.coyote.Response r2, $r6, $r31;
        java.io.IOException r3, $r8, $r28, r29;
        org.apache.coyote.ErrorState $r4;
        int i0, i1, i2, i3, $i4, $i5, $i6, $i7, $i8, $i10, $i13;
        org.apache.coyote.ajp.AbstractAjpProcessor $r5, $r7, $r9, $r10, $r11, $r12, $r14, $r16, $r19, $r21, $r22, $r25, $r27, $r30;
        boolean $z0, $z1;
        org.apache.coyote.ajp.AjpMessage $r13, $r15, $r17, $r20, $r23, $r26;
        byte[] $r18, $r24;
        long $l9, $l11, $l12;
        org.apache.coyote.ActionCode $r32;

        r0 := @this: org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer;
        r1 := @parameter0: org.apache.tomcat.util.buf.ByteChunk;
        r2 := @parameter1: org.apache.coyote.Response;
        $r5 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r6 = staticinvoke <org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.Response access$0(org.apache.coyote.ajp.AbstractAjpProcessor)>($r5);
        $z0 = virtualinvoke $r6.<org.apache.coyote.Response: boolean isCommitted()>();
        if $z0 != 0 goto label3;

     label0:
        $r7 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        virtualinvoke $r7.<org.apache.coyote.ajp.AbstractAjpProcessor: void prepareResponse()>();

     label1:
        goto label3;

     label2:
        $r8 := @caughtexception;
        r3 = $r8;
        $r9 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r4 = <org.apache.coyote.ErrorState: org.apache.coyote.ErrorState CLOSE_NOW>;
        staticinvoke <org.apache.coyote.ajp.AbstractAjpProcessor: void access$1(org.apache.coyote.ajp.AbstractAjpProcessor,org.apache.coyote.ErrorState,java.lang.Throwable)>($r9, $r4, r3);

     label3:
        $r10 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $z1 = staticinvoke <org.apache.coyote.ajp.AbstractAjpProcessor: boolean access$2(org.apache.coyote.ajp.AbstractAjpProcessor)>($r10);
        if $z1 != 0 goto label10;

     label4:
        i3 = virtualinvoke r1.<org.apache.tomcat.util.buf.ByteChunk: int getLength()>();
        $r11 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $i4 = $r11.<org.apache.coyote.ajp.AbstractAjpProcessor: int packetSize>;
        $i5 = 8184 + $i4;
        i0 = $i5 - 8192;
        i1 = 0;
        goto label7;

     label5:
        i2 = i3;
        if i2 <= i0 goto label6;

        i2 = i0;

     label6:
        i3 = i3 - i2;
        $r12 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r13 = $r12.<org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.ajp.AjpMessage responseMessage>;
        virtualinvoke $r13.<org.apache.coyote.ajp.AjpMessage: void reset()>();
        $r14 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r15 = $r14.<org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.ajp.AjpMessage responseMessage>;
        virtualinvoke $r15.<org.apache.coyote.ajp.AjpMessage: void appendByte(int)>(3);
        $r16 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r17 = $r16.<org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.ajp.AjpMessage responseMessage>;
        $r18 = virtualinvoke r1.<org.apache.tomcat.util.buf.ByteChunk: byte[] getBytes()>();
        $i6 = virtualinvoke r1.<org.apache.tomcat.util.buf.ByteChunk: int getOffset()>();
        $i7 = $i6 + i1;
        virtualinvoke $r17.<org.apache.coyote.ajp.AjpMessage: void appendBytes(byte[],int,int)>($r18, $i7, i2);
        $r19 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r20 = $r19.<org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.ajp.AjpMessage responseMessage>;
        virtualinvoke $r20.<org.apache.coyote.ajp.AjpMessage: void end()>();
        $r21 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r22 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r23 = $r22.<org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.ajp.AjpMessage responseMessage>;
        $r24 = virtualinvoke $r23.<org.apache.coyote.ajp.AjpMessage: byte[] getBuffer()>();
        $r25 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r26 = $r25.<org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.ajp.AjpMessage responseMessage>;
        $i8 = virtualinvoke $r26.<org.apache.coyote.ajp.AjpMessage: int getLen()>();
        virtualinvoke $r21.<org.apache.coyote.ajp.AbstractAjpProcessor: void output(byte[],int,int)>($r24, 0, $i8);
        i1 = i1 + i2;

     label7:
        if i3 > 0 goto label5;

        $r27 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $l9 = $r27.<org.apache.coyote.ajp.AbstractAjpProcessor: long bytesWritten>;
        $i10 = virtualinvoke r1.<org.apache.tomcat.util.buf.ByteChunk: int getLength()>();
        $l11 = (long) $i10;
        $l12 = $l9 + $l11;
        $r27.<org.apache.coyote.ajp.AbstractAjpProcessor: long bytesWritten> = $l12;

     label8:
        goto label10;

     label9:
        $r28 := @caughtexception;
        r29 = $r28;
        $r30 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $r31 = staticinvoke <org.apache.coyote.ajp.AbstractAjpProcessor: org.apache.coyote.Response access$0(org.apache.coyote.ajp.AbstractAjpProcessor)>($r30);
        $r32 = <org.apache.coyote.ActionCode: org.apache.coyote.ActionCode CLOSE_NOW>;
        virtualinvoke $r31.<org.apache.coyote.Response: void action(org.apache.coyote.ActionCode,java.lang.Object)>($r32, r29);
        throw r29;

     label10:
        $i13 = virtualinvoke r1.<org.apache.tomcat.util.buf.ByteChunk: int getLength()>();
        return $i13;

        catch java.io.IOException from label0 to label1 with label2;
        catch java.io.IOException from label4 to label8 with label9;
    }

    public long getBytesWritten()
    {
        org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer r0;
        org.apache.coyote.ajp.AbstractAjpProcessor $r1;
        long $l0;

        r0 := @this: org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer;
        $r1 = r0.<org.apache.coyote.ajp.AbstractAjpProcessor$SocketOutputBuffer: org.apache.coyote.ajp.AbstractAjpProcessor this$0>;
        $l0 = $r1.<org.apache.coyote.ajp.AbstractAjpProcessor: long bytesWritten>;
        return $l0;
    }
}
